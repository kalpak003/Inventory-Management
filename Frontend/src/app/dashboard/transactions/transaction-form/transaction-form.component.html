<!-- transaction-form.component.html -->
<div class="transaction-form" *ngIf="product">
  <h2>{{ transactionType }} Transaction: {{ product.productname }}</h2>

  <form [formGroup]="transactionForm">
    <!-- Order ID (readonly) -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Order ID</mat-label>
      <input matInput formControlName="orderid" readonly>
    </mat-form-field>

    <!-- Quantity -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Quantity</mat-label>
      <input matInput type="number" formControlName="quantity" required min="1">
      <mat-error *ngIf="transactionForm.get('quantity')?.invalid">
        {{ transactionForm.get('quantity')?.errors?.['required'] ? 'Required' : 'Minimum 1' }}
      </mat-error>
    </mat-form-field>

    <!-- Date (readonly) -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Date</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="date" readonly>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker disabled="true"></mat-datepicker>
    </mat-form-field>

    <!-- Buy / Sell Toggle -->
    <div class="transaction-type">
      <button mat-raised-button 
              [color]="transactionType === 'BUY' ? 'primary' : ''"
              (click)="setTransactionType('BUY')">
        Buy
      </button>
      <button mat-raised-button 
              [color]="transactionType === 'SELL' ? 'warn' : ''"
              (click)="setTransactionType('SELL')">
        Sell
      </button>
    </div>

    <!-- Submit / Cancel -->
    <div class="form-actions">
      <button mat-raised-button color="primary" 
              (click)="onSubmit()"
              [disabled]="transactionForm.invalid">
        Confirm {{ transactionType }}
      </button>
      <button mat-button (click)="cancel()">
        Cancel
      </button>
    </div>
  </form>
</div>
